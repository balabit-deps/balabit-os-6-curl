From 3c6c2bcd5af8a111738f9190093dbf8a440d167b Mon Sep 17 00:00:00 2001
From: Daniel Stenberg <daniel@haxx.se>
Date: Wed, 2 Nov 2016 07:18:24 +0100
Subject: [PATCH] ftp: remove dead code in ftp_done

Coverity CID 1374358
---
 lib/ftp.c | 2 --
 1 file changed, 2 deletions(-)

Index: curl-7.47.0/lib/ftp.c
===================================================================
--- curl-7.47.0.orig/lib/ftp.c	2018-03-14 09:10:55.796977532 -0400
+++ curl-7.47.0/lib/ftp.c	2018-03-14 09:10:55.792977521 -0400
@@ -3302,8 +3302,6 @@ static CURLcode ftp_done(struct connectd
   if(result) {
     /* out of memory, but we can limp along anyway (and should try to
      * since we may already be in the out of memory cleanup path) */
-    if(!result)
-      result = CURLE_OUT_OF_MEMORY;
     ftpc->ctl_valid = FALSE; /* mark control connection as bad */
     connclose(conn, "FTP: out of memory!"); /* mark for connection closure */
     ftpc->prevpath = NULL; /* no path remembering */
